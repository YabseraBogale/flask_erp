{% extends "table.html" %}

{% block title %}

  <title>Customer Lisiting</title>

{% endblock %}

{% block listing_name %}

    Customer Lisiting

{% endblock %}

{% block column %}

    <th>Customer Tin</th>                                                
    <th>Customer Name</th>
    <th>Customer Email</th>
    <th>Customer Phonenumber</th>
    <th>Customer Location</th>
    
<script>
    fetch("/customer_list/list/{{ sesion['employee_tin_number'] }}")
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
        })
        .then(
            data => {
                let employee_list=document.getElementById("list")
                for(let i=0;i<data.length;i++){ 
                    td+="<tr><td>"+data[i]["customer_tin"]+"</td>"
                    td+="<td>"+data[i]["customer_name"]+"</td>"
                    td+="<td>"+data[i]["customer_email"]+"</td>"
                    td+="<td>"+data[i]["customer_phonenumber"]+"</td>"
                    td+="<td>"+data[i]["customer_location"]+"</td></tr>"     
                }
                
            }
        )
        .catch((error)=>{
            console.log(error);
        });

</script>
{% endblock %}


